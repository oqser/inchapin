document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("callback-btn"),t=document.querySelector(".main__callback"),n=document.querySelector(".main__exit-cb"),l=document.querySelector(".main__send-cb"),o=document.querySelector("#phone"),c="+7 (___) ___-__-__";function a(){t.classList.remove("active"),document.body.classList.remove("modal-open")}document.addEventListener("keydown",(function(e){"Escape"!==e.key&&"Esc"!==e.key||a()})),o&&function(e){let t="";function n(){let n=c,l=0;for(let e=0;e<n.length;e++)"_"===n[e]&&l<t.length&&(n=n.slice(0,e)+t[l]+n.slice(e+1),l++);const o=n.indexOf("_");e.value=n,-1!==o?e.setSelectionRange(o,o):e.setSelectionRange(n.length,n.length)}e.addEventListener("focus",(function(){e.value||(e.value=c)})),e.addEventListener("beforeinput",(function(e){if("deleteContentBackward"===e.inputType)return t.length>0&&(t=t.slice(0,-1),n()),void e.preventDefault();const l=e.data;l&&/\d/.test(l)?(t.length<10&&(t+=l,n()),e.preventDefault()):e.preventDefault()})),e.addEventListener("click",(function(t){const n=e.value.indexOf("_");-1!==n&&e.setSelectionRange(n,n)})),e.addEventListener("paste",(function(e){e.preventDefault();const l=(e.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"");t=l.slice(0,10),n()}))}(o),e.addEventListener("click",(function(){t.classList.add("active"),document.body.classList.add("modal-open")})),n.addEventListener("click",(function(){t.classList.remove("active"),document.body.classList.remove("modal-open")})),n.addEventListener("click",a),l.addEventListener("click",(function(e){e.preventDefault();const n=[{input:document.querySelector("#name"),label:document.querySelector('label[for="name"]'),validator:e=>e.trim().length>0},{input:document.querySelector("#phone"),label:document.querySelector('label[for="phone"]'),validator:e=>11===e.replace(/\D/g,"").length},{input:document.querySelector("#email"),label:document.querySelector('label[for="email"]'),validator:e=>e.trim().length>0}];!function(e){e.forEach((({input:e,label:t})=>{e&&(e.style.borderColor=""),t&&(t.style.color="")}))}(n);let l=!0;const o=[];if(n.forEach((({input:e,label:t,validator:n})=>{e&&n(e.value)||(l=!1,function(e,t){e&&(e.style.borderColor="red");t&&(t.style.color="red")}(e,t),o.push(`Please enter valid ${e.id}`))})),!l)return void console.log("Validation errors:",o);const c={name:n[0].input.value.trim(),phone:n[1].input.value.trim(),email:n[2].input.value.trim()};console.log("Form Data:",c),n.forEach((({input:e})=>{e.value=""})),t.classList.remove("active"),document.body.classList.remove("modal-open")})),inputs.forEach((({input:e,label:t})=>{e&&e.addEventListener("input",(function(){e.style.borderColor="",t&&(t.style.color="")}))}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".main__video"),t=document.querySelector(".main__video-player"),n=document.querySelector(".main__video-img");function l(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement||(t.pause(),t.style.display="none",n.style.display="block")}e.addEventListener("click",(function(){t.src||(t.src="../video/memp.mp4"),t.style.display="block",n.style.display="none",t.play().then((()=>{t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen&&t.mozRequestFullScreen()})).catch((e=>{console.log("Error attempting to play video:",e)}))})),document.addEventListener("fullscreenchange",l),document.addEventListener("webkitfullscreenchange",l),document.addEventListener("mozfullscreenchange",l),document.addEventListener("MSFullscreenChange",l)}));